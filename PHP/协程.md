### 协程

协程与子例程一样，协程（coroutine）也是一种程序组件。相对子例程而言，协程更为一般和灵活，但在实践中使用没有子例程那样广泛。协程源自 Simula 和 Modula-2 语言，但也有其他语言支持。协程更适合于用来实现彼此熟悉的程序组件，如合作式多任务，迭代器，无限列表和管道。 协程最初在1963年被提出。
协程不是进程或线程，其执行过程更类似于子例程，或者说不带返回值的函数调用。
一个程序可以包含多个协程，可以对比与一个进程包含多个线程，因而下面我们来比较协程和线程。我们知道多个线程相对独立，有自己的上下文，切换受系统控制；而协程也相对独立，有自己的上下文，但是其切换由自己控制，由当前协程切换到其他协程由当前协程来控制。
[协成](http://baike.baidu.com/link?url=xuoY1kyHm-ZfB--u_BYw7OsESE2maij6y_3ppuuPGtBUB9e9bH7YM0AHHHgvue0-SXz5leUIQIGUh_9kXyiNsa)（百度百科）
[协成](http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013868328689835ecd883d910145dfa8227b539725e5ed000)（廖雪峰）
[浅谈我对协程的理解](http://www.wfuyu.com/mvc/21648.html)

### 协程的好处：

跨平台
跨体系架构
无需线程上下文切换的开消
无需原子操作锁定及同步的开消
方便切换控制流，简化编程模型
高并发+高扩大性+低本钱：1个CPU支持上万的协程都不是问题。所以很合适用于高并发处理。

### 缺点：

没法利用多核资源：协程的本质是个单线程,它不能同时将 单个CPU 的多个核用上,协程需要和进程配合才能运行在多CPU上.固然我们平常所编写的绝大部份利用都没有这个必要，除非是cpu密集型利用。
进行阻塞（Blocking）操作（如IO时）会阻塞掉全部程序：这1点和事件驱动1样，可使用异步IO操作来解决