## PHP程序员面试中经常被提问的问题

#### 1． Iiclude 与 require的区别，require和require_once的效率哪个高？

php在遇到include时就解释一次，如果页面中出现10次include，php就解释10次，而php遇到require时只解释一次，即使页面出现多次require也只解释一次，因此require的执行表率比include高。

php使用require包含文件时将被包含的文件当成当前文件的一个组成部分，如果被包含的文件中有语法错误或者被包含的文件不存在，则php脚本将不再执行，并提示错误。

php使用include包含文件时相当于指定了这个文件的路径，当被包含的文件有语法错误或者被包含的文件不存在时给出警告，不影响本身脚本的运行。

include在包含文件时可以判断文件是否包含，而require则不管任何情况都包含进来。

require的效率比require_once的效率更高，因为require_once在包含文件时要进行判断文件是否已经被包含。

 

#### 2． Cookie和session的区别，禁止了cookie后session能正常使用吗？session的缺点是什么？session在服务器端是存在哪里的？是共有的还是私有的？

  COOKIE保存在客户端，用户通过手段可以进行修改，不安全，单个cookie允许的最大值是3k。而SESSION保存在服务器端，相对比较安全，大小没有限制。禁用了cookie之session不能正常使用。

Session的缺点：保存在服务器端，每次读取都从服务器进行读取，对服务器有资源消耗。

Session保存在服务器端的文件或数据库中，默认保存在文件中，文件路径由php配置文件的session.save_path指定。

Session文件是公有的。

3． 怎么防止sql注入？

1、过滤掉一些常见的数据库操作关键字：select,insert,update,delete,and,*等

或者通过系统函数：addslashes(需要被过滤的内容)来进行过滤。

 2、在PHP配置文件中

Register_globals=off;设置为关闭状态 //作用将注册全局变量关闭。

比如：接收POST表单的值使用$_POST['user'],如果将register_globals=on;直接使用$user可以接收表单的值。

 3、SQL语句书写的时候尽量不要省略小引号(tab键上面那个)和单引号

 4、提高数据库命名技巧，对于一些重要的字段根据程序的特点命名，取不易被猜到的

 5、对于常用的方法加以封装，避免直接暴漏SQL语句

 6、开启PHP安全模式

Safe_mode=on;

 7、打开magic_quotes_gpc来防止SQL注入

Magic_quotes_gpc=off;默认是关闭的，它打开后将自动把用户提交的sql语句的查询进行转换，把'转为\'，这对防止sql注入有重大作用。

因此开启：magic_quotes_gpc=on;

 8、控制错误信息

关闭错误提示信息，将错误信息写到系统日志。

9、使用mysqli或pdo预处理。

4． 数据库索引有几类，分别是什么？什么时候该用索引

　普通索引、主键索引、唯一索引

　　并非所有的数据库都以相同的方式使用索引，作为通用规则，只有当经常查询列中的数据时才需要在表上创建索引。

5． 引用传值和非引用传值的区别，什么时候该用引用传值?什么时候该用非引用传值?

按值传递：函数范围内对值的改变在函数外都会被忽略。

按引用传递：函数范围内对值的任何改变在函数外也将反应出这些修改。

按值传递时，php必须复制值，如果操作的是大型的对象和字符串，这将是一个代价很大的操作。按引用传递不需要复制值，因此对性能的提高有好处。

当需要在函数内改变源变量的值时用引用传递，如果不想改变原变量的值用传值。

6． 写几个魔术方法并说明作用？

__call()当调用不存在的方法时会自动调用的方法

__autoload()在实例化一个尚未被定义的类是会自动调用次方法来加载类文件

__set()当给未定义的变量赋值时会自动调用的方法

__get()当获取未定义变量的值时会自动调用的方法

__construct()构造方法，实例化类时自动调用的方法

__destroy()销毁对象时自动调用的方法

__unset()当对一个未定义变量调用unset()时自动调用的方法

__isset()当对一个未定义变量调用isset()方法时自动调用的方法

__clone()克隆一个对象

__tostring()当输出一个对象时自动调用的方法

7． $_REQUEST、$_POST、$_GET、$_COOKIE、$_SESSION、$_FILE的意思是什么?

它们都是PHP预定义变量。

$_REQUEST用来获取post或get方式提交的值

$_POST用来获取post方式提交的值

$_GET用来获取get方式提交的值

$_COOKIE用来获取cookie存储的值

$_SESSION用来获取session存储的值

$_FILE用来获取上传文件表单的值

 

8． 数组中下标最好是什么类型的，为什么？

数组的下标最好是数字类型的，数字类型的处理速度快。

9. ++i和i++哪一个效率高，为什么？

++i效率比i++的效率更高，因为++i少了一个返回i的过程。

10．magic_quotes_gpc()、magic_quotes_runtime()的意思是什么？

Magic_quotes_gpc()是php配置文件中的，如果设置为on则会自动POST,GET,COOKIE中的字符串进行转义，在'之前加\

Magic_quotes_runtime()是php中的函数，如果参数为true则会数据库中取出来的单引号、双引号、反斜线自动加上反斜杠进行转义。

11.Echo()、print()、print_r()的区别？

Echo() 是PHP语法，可以输出多个值，不能输出数组。

Print() 是php的语言结构，可以输出单个简单类型的变量值。

Print_r() 是php函数，可以打印出复杂类型变量的值，如数组，对象。

12．谈谈你对Mvc的认识

MVC是一种设计模式，强制使输入、处理、输出分开，MVC的三个核心部分：M模型，V视图，C控制器。

视图就是用户看到并与之交互的界面。

模型就是程序的数据业务规则。

控制器接收用户的数组调用模型和视图去完成用户需求。

使用MVC的优点：低耦合、高重用性、较低的生命周期成本、快速开发部署、可维护性、可扩展性，有利于软件工程化管理。

MVC的缺点：没有明确的定义，完全理解并不容易。小型项目不适合用MVC。

13.框架中什么是单一入口和多入口，单一入口的优缺点

多入口就是通过访问不同的文件来完成用户请求。

单一入口只web程序所有的请求都指向一个脚本文件的。

单一入口更容易控制权限，方便对http请求可以进行安全性检查。

缺点：URL看起来不那么美观，特别是对搜索引擎来说不友好。

14.打印一个用‘.’链接的字符串时候，还可以用什么代替‘.’链接效率更高些?

可以用,代替.,效率更高。

15.提示类型200、404、502是什么意思?

200是请求成功，404是文件未找到，502是服务器内部错误。

16.编写一个自定义函数提取这段路径的的后缀名。

“Www/hello/test.php.html?a=3&b=4”

Function geturltype($url){

$info=parse_url($url);

Return end(explode('.',$info['path']));

}

17.你对Memcach的理解，优点有哪些？

Memcache是一种缓存技术，在一定的时间内将动态网页经过解析之后保存到文件，下次访问时动态网页就直接调用这个文件，而不必在重新访问数据库。使用memcache做缓存的好处是：提高网站的访问速度，减轻高并发时服务器的压力。

Memcache的优点：稳定、配置简单、多机分布式存储、速度快
